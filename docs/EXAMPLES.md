# 使用示例

## 费用数据可视化功能示例

### 场景：北京 5 日游预算分析

#### 1. 创建行程
```
目的地：北京
出发地：上海
天数：5 天
人数：2 人
预算：¥8,000
```

#### 2. 添加费用记录

**第一天 - 交通和住宿**
- 类别：交通
- 金额：¥1,200
- 描述：高铁往返票
- 日期：2025-11-01

- 类别：住宿
- 金额：¥600
- 描述：酒店第一晚
- 日期：2025-11-01

**第二天 - 景点和餐饮**
- 类别：景点
- 金额：¥240
- 描述：故宫门票
- 日期：2025-11-02

- 类别：餐饮
- 金额：¥320
- 描述：全聚德烤鸭
- 日期：2025-11-02

#### 3. 查看数据分析

**预算使用情况：**
- 总预算：¥8,000
- 已花费：¥2,360
- 剩余：¥5,640
- 使用率：29.5%

**费用分布（饼图）：**
- 交通：¥1,200 (50.8%)
- 住宿：¥600 (25.4%)
- 餐饮：¥320 (13.6%)
- 景点：¥240 (10.2%)

**每日开销趋势（柱状图）：**
- 2025-11-01：¥1,800
- 2025-11-02：¥560

#### 4. 导出报告

**CSV 导出内容：**
```csv
日期,类别,描述,金额
2025-11-01,交通,高铁往返票,1200.00
2025-11-01,住宿,酒店第一晚,600.00
2025-11-02,景点,故宫门票,240.00
2025-11-02,餐饮,全聚德烤鸭,320.00
```

**PDF 报告包含：**
1. 预算摘要（总预算、已花费、剩余、使用率）
2. 类别统计表（每个类别的金额和占比）
3. 费用明细表（所有费用记录）

### 实际使用流程

#### 步骤 1：登录并创建行程
1. 访问 http://localhost:3000
2. 登录或注册账号
3. 点击"创建新行程"
4. 填写行程信息并生成计划

#### 步骤 2：记录实际开销
1. 进入行程详情页
2. 切换到"费用追踪"标签
3. 添加每笔开销：
   - 可以使用语音输入
   - 选择费用类别
   - 填写金额和描述

#### 步骤 3：分析费用数据
1. 切换到"数据分析"标签
2. 查看三个主要部分：
   - **预算使用仪表板**：快速了解预算使用情况
   - **费用类别分布**：看哪个类别花费最多
   - **每日开销趋势**：了解每天的消费情况

#### 步骤 4：使用筛选功能
1. 设置日期范围（如只看前 3 天的开销）
2. 图表自动更新
3. 查看特定时间段的费用分析

#### 步骤 5：导出数据
1. 点击"导出 CSV"：获取表格数据，可用 Excel 分析
2. 点击"导出 PDF"：生成完整报告，可打印或分享

### 高级使用技巧

#### 1. 语音快速记账
- 旅行途中使用手机
- 点击语音输入按钮
- 说出费用信息："今天午饭花了 50 元"
- 系统自动识别并填写

#### 2. 实时预算监控
- 定期查看预算使用率
- 绿色（<80%）：预算充足
- 黄色（80-100%）：接近预算
- 红色（>100%）：超出预算

#### 3. 费用优化建议
通过查看费用分布图：
- 如果"餐饮"占比过高 → 考虑调整餐厅选择
- 如果"景点"占比过低 → 可以增加旅游活动
- 如果"交通"占比过高 → 优化出行方式

#### 4. 多次旅行对比
- 导出每次旅行的 CSV 数据
- 在 Excel 中对比不同旅行的开销
- 总结经验，优化未来预算

### 常见问题

**Q: 如何修改已添加的费用？**
A: 在"费用追踪"标签页，点击费用记录的编辑按钮

**Q: 图表为什么不显示？**
A: 确保已添加至少一条费用记录

**Q: 可以导出特定日期范围的数据吗？**
A: 可以，先用日期筛选器选择范围，再导出

**Q: PDF 导出的字体支持中文吗？**
A: 当前使用标准字体，中文可能显示为拼音，建议使用 CSV 导出

**Q: 移动端能用吗？**
A: 完全支持，所有功能在手机浏览器上都能使用

### 最佳实践

1. **及时记账**：每次消费后立即记录，避免遗忘
2. **使用语音**：移动端优先使用语音输入，更快捷
3. **定期查看**：每天晚上查看一次数据分析，掌握预算情况
4. **导出备份**：旅行结束后导出 PDF 报告留作纪念
5. **分类准确**：选择正确的费用类别，便于后续分析

### 演示数据

如果想快速体验功能，可以添加以下示例数据：

```javascript
// 示例费用数据
const sampleExpenses = [
  { category: '交通', amount: 1200, description: '往返机票', date: '2025-11-01' },
  { category: '住宿', amount: 500, description: '酒店住宿 - 第1晚', date: '2025-11-01' },
  { category: '餐饮', amount: 150, description: '晚餐', date: '2025-11-01' },
  { category: '景点', amount: 200, description: '景区门票', date: '2025-11-02' },
  { category: '餐饮', amount: 180, description: '午餐+晚餐', date: '2025-11-02' },
  { category: '住宿', amount: 500, description: '酒店住宿 - 第2晚', date: '2025-11-02' },
  { category: '购物', amount: 300, description: '纪念品', date: '2025-11-03' },
  { category: '餐饮', amount: 200, description: '特色美食', date: '2025-11-03' },
  { category: '其他', amount: 80, description: '打车费用', date: '2025-11-03' },
];
```

添加这些数据后，你会看到：
- 预算使用率：约 39%（假设预算 ¥8,000）
- 最大开销类别：交通（37.7%）
- 每日开销趋势：第一天最高（¥1,850）
